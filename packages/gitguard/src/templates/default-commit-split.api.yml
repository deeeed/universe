type: split-commit
format: api
title: Conventional Commit Split
version: "1.0"
active: true
simulate: true
ai:
  provider: openai
  model: gpt-4
template: |
  Analyze these git changes and determine if they should be split into multiple atomic commits.

  Files Changed:
  {{#each files}}
  - {{this.path}} (+{{this.additions}} -{{this.deletions}})
  {{/each}}

  Original message: "{{message}}"

  Git diff:
  ```diff
  {{diff}}
  ```

  Provide analysis in this JSON format:
  {
    "reason": "explanation why changes should be split (max 100 chars)",
    "suggestions": [
      {
        "message": "descriptive message without type/scope",
        "files": ["list of files for this commit"],
        "order": "number (1-based)",
        "type": "feat|fix|docs|style|refactor|perf|test|chore|ci|build|revert",
        "scope": "affected package or component"
      }
    ]
  }

  Guidelines:
  1. Each commit must be atomic and self-contained
  2. Group related changes together (e.g., component + types + tests)
  3. Use descriptive messages that explain the change
  4. Follow conventional commit types strictly
  5. Order suggestions by logical dependency (1 being most foundational)
  6. Consider package boundaries when detecting scope
  7. Include all files from original commit
